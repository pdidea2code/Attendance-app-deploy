"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5090],{69227:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var o=s(72791),a=s(28725),n=s(76794),l=s(24824),i=s(76189),r=s(80184);const c=(0,i.Z)((0,r.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58z"}),"AccountBoxRounded");var d=s(62062),m=s.n(d),u=s(78983),p=s(13838),y=s(57689),h=s(59434),f=s(89078),x=s(75985);s(5462);const A=()=>{const[e,t]=(0,o.useState)([]),[s,i]=(0,o.useState)(""),[d,A]=(0,o.useState)(!1),v=(0,y.s0)(),g=(0,h.I0)(),j=(0,h.v9)((e=>e.auth)),[_,b]=(0,o.useState)([]),w=async()=>{A(!0);try{const e=await(0,a.O8)(),s=e.data.info;t(s),i(e.data.baseUrl)}catch(o){var e,s;console.log(o),x.Am.error((null===(e=o.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)||"An error occurred")}finally{A(!1)}};(0,o.useEffect)((()=>{(async()=>{await(0,a.VQ)(g),b(j.permission)})()}),[]),(0,o.useEffect)((()=>{w()}),[]);const N=[{name:"user_id",label:"user_id",options:{filter:!0,sort:!0}},{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"email",label:"Email",options:{filter:!0,sort:!0}},{name:"phoneno",label:"Phoneno",options:{filter:!0,sort:!0}},{name:"position",label:"Position",options:{filter:!0,sort:!0}},{name:"image",label:"Image",options:{filter:!1,sort:!1,customBodyRender:e=>e&&(0,r.jsx)("img",{src:"".concat(s).concat(e),alt:e,style:{height:"60px",width:"60px",borderRadius:"50%"}})}}];(Array.isArray(_)&&_.includes("employee.delete")||_.includes("employee.edit")||_.includes("employee.profile"))&&N.push({name:"_id",label:"Action",options:{filter:!1,sort:!1,customBodyRender:t=>(0,r.jsxs)(r.Fragment,{children:[Array.isArray(_)&&_.includes("employee.edit")&&(0,r.jsx)(n.Z,{className:"editButton",onClick:()=>{const o=e.find((e=>e._id===t));v("/employeeform",{state:{editData:o,imageUrl:s}})}}),Array.isArray(_)&&_.includes("employee.delete")&&(0,r.jsx)(l.Z,{className:"deleteButton",onClick:async()=>{await m()({title:"Are you sure?",text:"Are you sure? Want to delete employee?",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0})&&deletePermission(t).then((()=>{w(),x.Am.success("Deleted successfully!"),m()({title:"Deleted successfully!",icon:"success",button:"close"})})).catch((e=>{var t,s;console.log(e);const o=(null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Something went wrong";x.Am.error(o)}))}}),Array.isArray(_)&&_.includes("employee.profile")&&(0,r.jsx)(c,{className:"editButton",onClick:()=>{const o=e.find((e=>e._id===t));v("/employeeprofile",{state:{editData:o,imageUrl:s}})}})]})}});return(0,r.jsx)(r.Fragment,{children:d?(0,r.jsx)("div",{className:"d-flex justify-content-center",children:(0,r.jsx)(u.LQ,{className:"theme-spinner-color"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Ix,{}),Array.isArray(_)&&_.includes("employee.add")&&(0,r.jsx)("div",{className:"right-text",children:(0,r.jsx)(p.Z,{variant:"contained",size:"medium",className:"AddButton",onClick:()=>v("/employeeform"),children:"Add"})}),(0,r.jsx)(f.ZP,{title:"Employee",data:e,columns:N,options:{}})]})})}},24824:(e,t,s)=>{s.d(t,{Z:()=>n});var o=s(76189),a=s(80184);const n=(0,o.Z)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1"}),"DeleteRounded")},76794:(e,t,s)=>{s.d(t,{Z:()=>n});var o=s(76189),a=s(80184);const n=(0,o.Z)((0,a.jsx)("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"EditRounded")}}]);
//# sourceMappingURL=5090.abb94be7.chunk.js.map