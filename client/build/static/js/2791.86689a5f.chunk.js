"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2791],{56439:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var i=o(72791),a=o(59434),n=o(57689),r=o(28725),c=o(75985),s=o(78983),d=(o(5462),o(89078)),l=o(13474),m=o(61134),u=o(80184);const h=()=>{const[e,t]=(0,i.useState)([]),[o,h]=(0,i.useState)(!1),f=((0,n.s0)(),(0,a.I0)()),y=(0,a.v9)((e=>e.auth)),[k,p]=(0,i.useState)([]),{register:b,handleSubmit:x,formState:{errors:_},setValue:g,watch:j}=(0,m.cI)(),w=async e=>{try{h(!0);const o=(await(0,r.w7)(e)).data.info;if(Array.isArray(o)){const e=await o.map((e=>({...e,modifyovertime:e.overtime?(0,r.gq)(e.overtime):"-",modifyworkingtime:e.workingtime?(0,r.gq)(e.workingtime):"-",modifyday:(0,l.WU)(e.day,"dd/MM/yyyy"),modifycheckin:e.checkin?(0,l.WU)(e.checkin,"hh:mm a"):"-",modifycheckout:e.checkout?(0,l.WU)(e.checkout,"hh:mm a"):"-",name:e.user_id.name,modifyuser_id:e.user_id._id,radius:parseFloat(e.radius).toFixed(2)})));t(e)}h(!1)}catch(a){var o,i;console.log(a),h(!1),c.Am.error((null===(o=a.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)||"An error occurred")}};(0,i.useEffect)((()=>{(0,r.VQ)(f),p(y.attendance||[])}),[]),(0,i.useEffect)((()=>{w()}),[]);const v=[{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"modifyday",label:"day",options:{filter:!0,sort:!0}},{name:"modifycheckin",label:"checkin",options:{filter:!0,sort:!0}},{name:"_id",label:"checkin Lat,Long",options:{customBodyRender:t=>{const o=e.find((e=>e._id===t));return"".concat(o.checkinLatitude,",").concat(o.checkinLongitude)}}},{name:"modifycheckout",label:"checkout",options:{filter:!0,sort:!0}},{name:"_id",label:"checkout Lat,Long",options:{customBodyRender:t=>{const o=e.find((e=>e._id===t));return"".concat(o.checkoutLatitude,",").concat(o.checkoutLongitude)}}},{name:"location",label:"location",options:{filter:!0,sort:!0}},{name:"modifyworkingtime",label:"workingtime",options:{filter:!0,sort:!0}},{name:"modifyovertime",label:"overtime",options:{filter:!0,sort:!0}},{name:"radius",label:"radius",options:{filter:!0,sort:!0}}];return(0,u.jsx)(u.Fragment,{children:o?(0,u.jsx)("div",{className:"d-flex justify-content-center",children:(0,u.jsx)(s.LQ,{className:"theme-spinner-color"})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.Ix,{}),(0,u.jsx)(s.rb,{className:"mb-3",children:(0,u.jsx)(s.b7,{md:12,xl:4,children:(0,u.jsxs)(s.lx,{className:"row g-3",onSubmit:x((e=>{const t=e.date.split("-"),o={year:t[0],month:t[1],date:t[2]};w(o)})),children:[(0,u.jsx)(s.b7,{md:12,xl:6,children:(0,u.jsx)(s.jO,{type:"date",...b("date",{required:"date ise required"})})}),(0,u.jsx)(s.b7,{md:12,xl:4,children:(0,u.jsx)(s.u5,{type:"submit",children:"Get"})})]})})}),(0,u.jsx)(d.ZP,{title:"Attendance",data:e,columns:v,options:{selectableRows:"none",onRowsDelete:!1}})]})})}}}]);
//# sourceMappingURL=2791.86689a5f.chunk.js.map