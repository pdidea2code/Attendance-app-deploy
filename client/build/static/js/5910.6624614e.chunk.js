"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5910],{6477:(e,s,l)=>{l.r(s),l.d(s,{default:()=>p});var a=l(72791),r=l(62062),t=l.n(r),d=l(78983),c=l(28725),i=l(75985),n=(l(5462),l(13838)),o=l(57689),u=l(24824),h=l(76794),x=l(59434),m=l(80184);const p=()=>{const[e,s]=(0,a.useState)([]),l=(0,o.s0)(),[r,p]=(0,a.useState)(!1),[j,f]=(0,a.useState)([]),v=(0,x.v9)((e=>e.auth)),b=(0,x.I0)(),_=async()=>{try{p(!0);const e=await(0,c.br)();s(e.data.info)}catch(a){var e,l;console.log(a),i.Am.error((null===(e=a.response)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message)||"Failed to fetch roles")}finally{p(!1)}};return(0,a.useEffect)((()=>{(async()=>{await(0,c.VQ)(b),f(v.permission)})()}),[]),(0,a.useEffect)((()=>{_()}),[]),(0,m.jsxs)(d.KB,{children:[(0,m.jsx)(i.Ix,{draggable:!0}),r?(0,m.jsx)("div",{className:"d-flex justify-content-center",children:(0,m.jsx)(d.LQ,{className:"theme-spinner-color"})}):(0,m.jsx)(d.rb,{children:(0,m.jsxs)(d.b7,{md:12,xl:10,children:[j.includes("role.add")&&(0,m.jsx)("div",{className:"right-text",children:(0,m.jsx)(n.Z,{variant:"contained",size:"medium",className:"AddButton",onClick:()=>l("/roleform",{state:{role:"user"}}),children:"Add"})}),e.map((e=>(0,m.jsxs)(d.xH,{className:"mb-2",children:[(0,m.jsx)(d.bn,{children:(0,m.jsxs)(d.rb,{children:[(0,m.jsx)(d.b7,{md:10,xl:10,children:e.name}),(0,m.jsxs)(d.b7,{md:2,xl:2,children:[j.includes("role.delete")&&(0,m.jsx)(u.Z,{onClick:async()=>{if(await t()({title:"Are you sure?",text:"Are you sure? Want to delete this role? All related data will also be deleted.",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0}))try{await(0,c.Rd)({id:e._id}),i.Am.success("Deleted successfully!"),_()}catch(a){var s,l;i.Am.error((null===a||void 0===a||null===(s=a.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"Error occurred")}}}),j.includes("role.edit")&&(0,m.jsx)(h.Z,{className:"editButton",onClick:()=>l("/roleform",{state:{editData:e}})})]})]})}),(0,m.jsx)(d.sl,{children:e.permission.length>0?(0,m.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px"},children:e.permission.sort(((e,s)=>e.localeCompare(s))).map(((e,s)=>(0,m.jsx)("span",{style:{backgroundColor:"#D93D4A",padding:"5px",color:"white",borderRadius:"20px"},children:e},s)))}):(0,m.jsx)("h1",{children:"Permission Not Allowed"})})]},e._id)))]})})]})}},24824:(e,s,l)=>{l.d(s,{Z:()=>t});var a=l(76189),r=l(80184);const t=(0,a.Z)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1"}),"DeleteRounded")},76794:(e,s,l)=>{l.d(s,{Z:()=>t});var a=l(76189),r=l(80184);const t=(0,a.Z)((0,r.jsx)("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"EditRounded")}}]);
//# sourceMappingURL=5910.6624614e.chunk.js.map