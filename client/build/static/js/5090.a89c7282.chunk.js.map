{"version":3,"file":"static/js/5090.a89c7282.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/AccountBoxRounded.js","views/employee/Employee.js","../node_modules/@mui/icons-material/esm/DeleteRounded.js","../node_modules/@mui/icons-material/esm/EditRounded.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58z\"\n}), 'AccountBoxRounded');","import { useEffect, useState } from 'react'\nimport { deleteEmplloyee, getAllEmplloyee, getrole } from 'src/redux/api/api'\nimport * as Icons from '@mui/icons-material'\nimport swal from 'sweetalert'\nimport { CSpinner } from '@coreui/react'\nimport { Button } from '@mui/material'\nimport { useNavigate } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport MUIDataTable from 'mui-datatables'\nimport { ToastContainer, toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\n\nconst Employee = () => {\n  const [dataTableData, setDataTabledata] = useState([])\n  const [baseUrl, setBaseUrl] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const navigate = useNavigate()\n  const dispatch = useDispatch()\n  const auth = useSelector((state) => state.auth)\n  const [permission, setPermissions] = useState([])\n\n  const getemployee = async () => {\n    setIsLoading(true)\n    try {\n      const res = await getAllEmplloyee()\n      const data = res.data.info\n      setDataTabledata(data)\n      setBaseUrl(res.data.baseUrl)\n    } catch (error) {\n      console.log(error)\n      toast.error(error.response?.data?.message || 'An error occurred')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    const fetchPermissions = async () => {\n      await getrole(dispatch)\n      setPermissions(auth.permission)\n    }\n    fetchPermissions()\n  }, [])\n\n  useEffect(() => {\n    getemployee()\n  }, [])\n\n  const columns = [\n    {\n      name: 'user_id',\n      label: 'user_id',\n      options: {\n        filter: true,\n        sort: true,\n      },\n    },\n    {\n      name: 'name',\n      label: 'Name',\n      options: {\n        filter: true,\n        sort: true,\n      },\n    },\n    {\n      name: 'email',\n      label: 'Email',\n      options: {\n        filter: true,\n        sort: true,\n      },\n    },\n    {\n      name: 'phoneno',\n      label: 'Phoneno',\n      options: {\n        filter: true,\n        sort: true,\n      },\n    },\n    {\n      name: 'position',\n      label: 'Position',\n      options: {\n        filter: true,\n        sort: true,\n      },\n    },\n    {\n      name: 'image',\n      label: 'Image',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (image) =>\n          image && (\n            <img\n              src={`${baseUrl}${image}`}\n              alt={image}\n              style={{ height: '60px', width: '60px', borderRadius: '50%' }}\n            />\n          ),\n      },\n    },\n  ]\n  if (\n    (Array.isArray(permission) && permission.includes('employee.delete')) ||\n    permission.includes('employee.edit') ||\n    permission.includes('employee.profile')\n  ) {\n    columns.push({\n      name: '_id',\n      label: 'Action',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => {\n          return (\n            <>\n              {Array.isArray(permission) && permission.includes('employee.edit') && (\n                <Icons.EditRounded\n                  className=\"editButton\"\n                  onClick={() => {\n                    const editData = dataTableData.find((data) => data._id === value)\n                    navigate('/employeeform', {\n                      state: { editData: editData, imageUrl: baseUrl },\n                    })\n                  }}\n                ></Icons.EditRounded>\n              )}\n              {Array.isArray(permission) && permission.includes('employee.delete') && (\n                <Icons.DeleteRounded\n                  className=\"deleteButton\"\n                  onClick={async () => {\n                    const confirm = await swal({\n                      title: 'Are you sure?',\n                      text: 'Are you sure? Want to delete employee?',\n                      icon: 'warning',\n                      buttons: ['No, cancel it!', 'Yes, I am sure!'],\n                      dangerMode: true,\n                    })\n                    if (confirm) {\n                      deleteEmplloyee(value)\n                        .then(() => {\n                          getemployee()\n                          toast.success('Deleted successfully!')\n                          swal({\n                            title: 'Deleted successfully!',\n                            icon: 'success',\n                            button: 'close',\n                          })\n                        })\n                        .catch((error) => {\n                          console.log(error)\n                          const errorMsg = error.response?.data?.message || 'Something went wrong'\n                          toast.error(errorMsg)\n                        })\n                    }\n                  }}\n                />\n              )}\n              {Array.isArray(permission) && permission.includes('employee.profile') && (\n                <Icons.AccountBoxRounded\n                  className=\"editButton\"\n                  onClick={() => {\n                    const editData = dataTableData.find((data) => data._id === value)\n                    navigate('/employeeprofile', {\n                      state: { editData: editData, imageUrl: baseUrl },\n                    })\n                  }}\n                ></Icons.AccountBoxRounded>\n              )}\n            </>\n          )\n        },\n      },\n    })\n  }\n\n  const options = {}\n\n  return (\n    <>\n      {isLoading ? (\n        <div className=\"d-flex justify-content-center\">\n          <CSpinner className=\"theme-spinner-color\" />\n        </div>\n      ) : (\n        <>\n          <ToastContainer />\n          {Array.isArray(permission) && permission.includes('employee.add') && (\n            <div className=\"right-text\">\n              <Button\n                variant=\"contained\"\n                size=\"medium\"\n                className=\"AddButton\"\n                onClick={() => navigate('/employeeform')}\n              >\n                Add\n              </Button>\n            </div>\n          )}\n          <MUIDataTable\n            title={'Employee'}\n            data={dataTableData}\n            columns={columns}\n            options={options}\n          />\n        </>\n      )}\n    </>\n  )\n}\n\nexport default Employee\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1\"\n}), 'DeleteRounded');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z\"\n}), 'EditRounded');"],"names":["createSvgIcon","_jsx","d","Employee","dataTableData","setDataTabledata","useState","baseUrl","setBaseUrl","isLoading","setIsLoading","navigate","useNavigate","dispatch","useDispatch","auth","useSelector","state","permission","setPermissions","getemployee","async","res","getAllEmplloyee","data","info","error","_error$response","_error$response$data","console","log","toast","response","message","useEffect","getrole","fetchPermissions","columns","name","label","options","filter","sort","customBodyRender","image","src","concat","alt","style","height","width","borderRadius","Array","isArray","includes","push","value","_jsxs","_Fragment","children","Icons","className","onClick","editData","find","_id","imageUrl","swal","title","text","icon","buttons","dangerMode","deleteEmplloyee","then","success","button","catch","_error$response2","_error$response2$data","errorMsg","CSpinner","ToastContainer","Button","variant","size","MUIDataTable"],"sourceRoot":""}