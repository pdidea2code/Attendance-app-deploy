"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8828],{82618:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var d=i(72791),s=i(61134),a=i(57689),l=i(78983),n=i(75985),r=(i(5462),i(28725)),c=i(13474),o=i(80184);const u=()=>{var e,t,i;const{register:u,handleSubmit:h,formState:{errors:m},setValue:x,getValues:j}=(0,s.cI)(),{state:v}=(0,a.TH)(),[g,y]=(0,d.useState)(""),[p,b]=(0,d.useState)(!1);(0,d.useEffect)((()=>{null!==v&&void 0!==v&&v.editData&&(y(v.editData._id),x("title",v.editData.title),x("date",(e=>{if(!e)return"";const t=e.split("/");if(3===t.length){const[e,i,d]=t;return"".concat(d,"-").concat(i,"-").concat(e)}return""})(v.editData.modifydate)),x("day",v.editData.day))}),[v,x]);const _=(0,a.s0)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"bg-light min-vh-100",children:[(0,o.jsx)(n.Ix,{}),(0,o.jsx)(l.KB,{className:"mt-3",children:(0,o.jsx)(l.rb,{children:(0,o.jsx)(l.b7,{md:8,children:(0,o.jsxs)(l.xH,{children:[(0,o.jsxs)(l.bn,{children:[g?"Update":"Add"," Form"]}),(0,o.jsx)(l.sl,{children:(0,o.jsxs)(l.lx,{className:"row g-3",onSubmit:h((e=>{""!==g&&(e.id=g),""===g?(0,r.DK)(e).then((e=>{b(!1),200===e.status&&_("/holiday")})).catch((e=>{var t,i;console.log(e),b(!1);const d=(null===(t=e.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message)||"Something went wrong";n.Am.error(d)})):(0,r.PS)(e).then((e=>{b(!1),200===e.status&&_("/holiday")})).catch((e=>{var t,i;b(!1),console.log(e);const d=(null===(t=e.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.message)||"Something went wrong";n.Am.error(d)}))})),children:[(0,o.jsxs)(l.b7,{xl:4,md:12,children:[(0,o.jsx)(l.L8,{children:"Title"}),(0,o.jsx)(l.jO,{type:"text",placeholder:"Title",...u("title",{required:"Title is required"}),invalid:!!m.title}),(0,o.jsx)(l.CO,{invalid:!0,children:null===(e=m.title)||void 0===e?void 0:e.message})]}),(0,o.jsxs)(l.b7,{xl:4,md:12,children:[(0,o.jsx)(l.L8,{children:"Date"}),(0,o.jsx)(l.jO,{type:"date",...u("date",{required:"Date is required"}),invalid:!!m.date,value:j("data"),min:(0,c.WU)(new Date,"yyyy-MM-dd")}),(0,o.jsx)(l.CO,{invalid:!0,children:null===(t=m.date)||void 0===t?void 0:t.message})]}),(0,o.jsxs)(l.b7,{xl:4,md:12,children:[(0,o.jsx)(l.L8,{children:"Day"}),(0,o.jsx)(l.jO,{type:"text",...u("day",{required:"Day is required"}),invalid:!!m.day}),(0,o.jsx)(l.CO,{invalid:!0,children:null===(i=m.day)||void 0===i?void 0:i.message})]}),(0,o.jsx)(l.b7,{md:12,className:"text-center submitButton",children:p?(0,o.jsxs)(l.u5,{disabled:!0,children:[(0,o.jsx)(l.LQ,{component:"span",size:"sm","aria-hidden":"true"}),"Loading..."]}):(0,o.jsx)(l.u5,{type:"submit",className:"AddButton",children:""===g?"Add":"Update"})})]})})]})})})})]})})}}}]);
//# sourceMappingURL=8828.fe43d847.chunk.js.map