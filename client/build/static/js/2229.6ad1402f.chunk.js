"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2229],{590:(e,s,i)=>{i.r(s),i.d(s,{default:()=>c});var d=i(72791),a=i(61134),r=i(57689),n=i(78983),l=i(75985),o=(i(5462),i(28725)),t=i(80184);const c=()=>{var e,s,i,c,m;const{register:h,handleSubmit:x,formState:{errors:j},setValue:u,watch:p}=(0,a.cI)(),{state:v}=(0,r.TH)(),[g,w]=(0,d.useState)(""),[b,f]=(0,d.useState)(!1),[O,_]=(0,d.useState)(""),P=(0,r.s0)();(0,d.useEffect)((()=>{null!==v&&void 0!==v&&v.editData&&(w(v.editData._id),_(v.imageUrl+v.editData.image),u("name",v.editData.name),u("email",v.editData.email),u("user_id",v.editData.user_id),u("position",v.editData.position),u("phoneno",v.editData.phoneno))}),[v,u]);const q=p("password");return(0,t.jsxs)("div",{className:"bg-light min-vh-100",children:[(0,t.jsx)(l.Ix,{}),(0,t.jsx)(n.KB,{className:"mt-3",children:(0,t.jsx)(n.rb,{children:(0,t.jsx)(n.b7,{md:8,children:(0,t.jsxs)(n.xH,{children:[(0,t.jsxs)(n.bn,{children:[g?"Update":"Add"," Form"]}),(0,t.jsx)(n.sl,{children:(0,t.jsxs)(n.lx,{className:"row g-3",onSubmit:x((e=>{f(!0);let s=new FormData;Object.keys(e).forEach((function(i){"image"===i?void 0!==e[i][0]&&s.append(i,e[i][0]):s.append(i,e[i])})),""===g?(0,o.CP)(s).then((e=>{f(!1),200===e.status&&P("/employee")})).catch((e=>{var s,i;console.log(e),f(!1);const d=(null===(s=e.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||"Something went wrong";l.Am.error(d)})):(0,o.lt)(g,s).then((e=>{f(!1),200===e.status&&P("/employee")})).catch((e=>{var s,i;f(!1),console.log(e);const d=(null===(s=e.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||"Something went wrong";l.Am.error(d)}))})),children:[(0,t.jsxs)(n.b7,{xl:6,md:12,children:[(0,t.jsx)(n.L8,{children:"Name"}),(0,t.jsx)(n.jO,{type:"text",placeholder:"Name",...h("name",{required:"Name is required"}),invalid:!!j.name}),(0,t.jsx)(n.CO,{invalid:!0,children:null===(e=j.name)||void 0===e?void 0:e.message})]}),(0,t.jsxs)(n.b7,{xl:6,md:12,children:[(0,t.jsx)(n.L8,{children:"Email"}),(0,t.jsx)(n.jO,{type:"email",placeholder:"Email",...h("email",{required:"Email is required"}),invalid:!!j.email}),(0,t.jsx)(n.CO,{invalid:!0,children:null===(s=j.email)||void 0===s?void 0:s.message})]}),(0,t.jsxs)(n.b7,{xl:6,md:12,children:[(0,t.jsx)(n.L8,{children:"Password"}),(0,t.jsx)(n.jO,{type:"password",placeholder:"Password",...h("password",{required:""===g&&"Password is required"}),invalid:!!j.password}),j.password&&(0,t.jsx)(n.CO,{invalid:!0,children:j.password.message})]}),(0,t.jsxs)(n.b7,{xl:6,md:12,children:[(0,t.jsx)(n.L8,{children:"Confirm Password"}),(0,t.jsx)(n.jO,{type:"password",placeholder:"Confirm Password",...h("confpassword",{validate:e=>{if(q)return e===q||"Passwords do not match"}}),invalid:!!j.confpassword}),j.confpassword&&(0,t.jsx)(n.CO,{invalid:!0,children:j.confpassword.message})]}),(0,t.jsxs)(n.b7,{xl:4,md:12,children:[(0,t.jsx)(n.L8,{children:"User ID"}),(0,t.jsx)(n.jO,{type:"text",placeholder:"User ID",...h("user_id",{required:"User ID is required"}),invalid:!!j.user_id}),(0,t.jsx)(n.CO,{invalid:!0,children:null===(i=j.user_id)||void 0===i?void 0:i.message})]}),(0,t.jsxs)(n.b7,{xl:4,md:12,children:[(0,t.jsx)(n.L8,{children:"Position"}),(0,t.jsx)(n.jO,{type:"text",placeholder:"Position",...h("position",{required:"Position is required"}),invalid:!!j.position}),(0,t.jsx)(n.CO,{invalid:!0,children:null===(c=j.position)||void 0===c?void 0:c.message})]}),(0,t.jsxs)(n.b7,{xl:4,md:12,children:[(0,t.jsx)(n.L8,{children:"Phone No"}),(0,t.jsx)(n.jO,{type:"tel",placeholder:"Phone No",...h("phoneno",{required:"Phone No is required"}),invalid:!!j.phoneno}),(0,t.jsx)(n.CO,{invalid:!0,children:null===(m=j.phoneno)||void 0===m?void 0:m.message})]}),(0,t.jsxs)(n.b7,{xl:4,md:12,children:[(0,t.jsx)(n.L8,{children:"Image"}),(0,t.jsx)(n.jO,{type:"file",...h("image",{required:""===g&&"Image is required"}),accept:"image/*",name:"image",onChange:e=>{const s=e.target.files[0];if(s){const e=URL.createObjectURL(s);_(e)}else _(null)}}),j.image&&(0,t.jsx)(n.CO,{invalid:!0,children:j.image.message})]}),(0,t.jsx)(n.b7,{md:5,children:O&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"Image Preview"}),(0,t.jsx)("div",{className:"mb-4 text-center",children:(0,t.jsx)("img",{src:O,alt:"Profile Preview",style:{width:"150px",height:"150px",objectFit:"cover",borderRadius:"50%"}})})]})}),(0,t.jsx)(n.b7,{md:12,className:"text-center submitButton",children:b?(0,t.jsxs)(n.u5,{disabled:!0,children:[(0,t.jsx)(n.LQ,{component:"span",size:"sm","aria-hidden":"true"}),"Loading..."]}):(0,t.jsx)(n.u5,{type:"submit",className:"AddButton",children:""===g?"Add":"Update"})})]})})]})})})})]})}}}]);
//# sourceMappingURL=2229.6ad1402f.chunk.js.map