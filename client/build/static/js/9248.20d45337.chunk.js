"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9248],{53752:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var i=s(72791),a=s(61134),d=s(57689),n=s(78983),l=s(75985),r=(s(5462),s(28725)),c=s(80184);const o=()=>{var e,t;const{register:s,handleSubmit:o,formState:{errors:u},setValue:h,getValues:m}=(0,a.cI)(),{state:x}=(0,d.TH)(),[v,j]=(0,i.useState)(""),[g,p]=(0,i.useState)(!1);(0,i.useEffect)((()=>{null!==x&&void 0!==x&&x.editData&&(j(x.editData._id),h("title",x.editData.title),h("date",(e=>{if(!e)return"";const t=e.split("/");if(3===t.length){const[e,s,i]=t;return"".concat(i,"-").concat(s,"-").concat(e)}return""})(x.editData.modifydate)))}),[x,h]);const b=(0,d.s0)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"bg-light min-vh-100",children:[(0,c.jsx)(l.Ix,{}),(0,c.jsx)(n.KB,{className:"mt-3",children:(0,c.jsx)(n.rb,{children:(0,c.jsx)(n.b7,{md:8,children:(0,c.jsxs)(n.xH,{children:[(0,c.jsxs)(n.bn,{children:[v?"Update":"Add"," Form"]}),(0,c.jsx)(n.sl,{children:(0,c.jsxs)(n.lx,{className:"row g-3",onSubmit:o((e=>{""!==v&&(e.id=v),""===v?(0,r.vP)(e).then((e=>{p(!1),200===e.status&&b("/event")})).catch((e=>{var t,s;console.log(e),p(!1);const i=(null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Something went wrong";l.Am.error(i)})):(0,r.eJ)(e).then((e=>{p(!1),200===e.status&&b("/event")})).catch((e=>{var t,s;p(!1),console.log(e);const i=(null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Something went wrong";l.Am.error(i)}))})),children:[(0,c.jsxs)(n.b7,{xl:6,md:12,children:[(0,c.jsx)(n.L8,{children:"Title"}),(0,c.jsx)(n.jO,{type:"text",placeholder:"Title",...s("title",{required:"Title is required"}),invalid:!!u.title}),(0,c.jsx)(n.CO,{invalid:!0,children:null===(e=u.title)||void 0===e?void 0:e.message})]}),(0,c.jsxs)(n.b7,{xl:6,md:12,children:[(0,c.jsx)(n.L8,{children:"Date"}),(0,c.jsx)(n.jO,{type:"date",...s("date",{required:"Date is required"}),invalid:!!u.date,value:m("data")}),(0,c.jsx)(n.CO,{invalid:!0,children:null===(t=u.date)||void 0===t?void 0:t.message})]}),(0,c.jsx)(n.b7,{md:12,className:"text-center submitButton",children:g?(0,c.jsxs)(n.u5,{disabled:!0,children:[(0,c.jsx)(n.LQ,{component:"span",size:"sm","aria-hidden":"true"}),"Loading..."]}):(0,c.jsx)(n.u5,{type:"submit",className:"AddButton",children:""===v?"Add":"Update"})})]})})]})})})})]})})}}}]);
//# sourceMappingURL=9248.20d45337.chunk.js.map