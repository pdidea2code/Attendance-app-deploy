{"version":3,"file":"static/js/9012.985fed5d.chunk.js","mappings":"mVAYA,MA0HA,EA1HmBA,KACjB,MAAOC,EAAeC,IAAoBC,EAAAA,EAAAA,UAAS,KAC5CC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,GACrCG,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMF,QACnCG,EAAYC,IAAkBX,EAAAA,EAAAA,UAAS,IAExCY,EAAgBC,UACpB,IACEX,GAAa,GACb,MACMY,SADYC,EAAAA,EAAAA,OACDD,KAAKE,KACtBd,GAAa,GACbH,EAAiBe,EACnB,CAAE,MAAOG,GAAQ,IAADC,EAAAC,EACdC,QAAQC,IAAIJ,GACZf,GAAa,GACboB,EAAAA,GAAML,OAAoB,QAAdC,EAAAD,EAAMM,gBAAQ,IAAAL,GAAM,QAANC,EAAdD,EAAgBJ,YAAI,IAAAK,OAAN,EAAdA,EAAsBK,UAAW,oBAC/C,IAGFC,EAAAA,EAAAA,YAAU,MACRC,EAAAA,EAAAA,IAAQrB,GACRM,EAAeJ,EAAKG,YAAc,GAAG,GACpC,KAEHe,EAAAA,EAAAA,YAAU,KACRb,GAAe,GACd,IAEH,MAAMe,EAAU,CACd,CACEC,KAAM,OACNC,MAAO,OACPC,QAAS,CACPC,QAAQ,EACRC,MAAM,KAKRC,MAAMC,QAAQxB,IAAeA,EAAWyB,SAAS,sBACnDR,EAAQS,KAAK,CACXR,KAAM,MACNC,MAAO,SACPC,QAAS,CACPO,iBAAmBC,IAEfC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEF,EAAAA,EAAAA,KAACG,EAAAA,EAAmB,CAClBC,UAAU,eACVC,QAAS/B,gBACegC,IAAK,CACzBC,MAAO,gBACPC,KAAM,2CACNC,KAAM,UACNC,QAAS,CAAC,iBAAkB,mBAC5BC,YAAY,MAGZC,EAAAA,EAAAA,IAAiBb,GACdc,MAAK,KACJxC,IACAU,EAAAA,GAAM+B,QAAQ,yBACdR,IAAK,CACHC,MAAO,wBACPE,KAAM,UACNM,OAAQ,SACR,IAEHC,OAAOtC,IAAW,IAADuC,EAAAC,EAChBrC,QAAQC,IAAIJ,GACZ,MAAMyC,GAAyB,QAAdF,EAAAvC,EAAMM,gBAAQ,IAAAiC,GAAM,QAANC,EAAdD,EAAgB1C,YAAI,IAAA2C,OAAN,EAAdA,EAAsBjC,UAAW,uBAClDF,EAAAA,GAAML,MAAMyC,EAAS,GAE3B,SAYhB,OACEnB,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACGxC,GACCsC,EAAAA,EAAAA,KAAA,OAAKI,UAAU,gCAA+BF,UAC5CF,EAAAA,EAAAA,KAACoB,EAAAA,GAAQ,CAAChB,UAAU,2BAGtBiB,EAAAA,EAAAA,MAAApB,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,KAACsB,EAAAA,GAAc,IAEd5B,MAAMC,QAAQxB,IAAeA,EAAWyB,SAAS,oBAChDI,EAAAA,EAAAA,KAAA,OAAKI,UAAU,aAAYF,UACzBF,EAAAA,EAAAA,KAACuB,EAAAA,EAAM,CACLC,QAAQ,YACRC,KAAK,SACLrB,UAAU,YACVC,QAASA,IAAMzC,EAAS,mBAAmBsC,SAC5C,WAKLF,EAAAA,EAAAA,KAAC0B,EAAAA,GAAY,CACXnB,MAAO,aACPhC,KAAMhB,EACN6B,QAASA,EACTG,QA5BM,CAAEoC,eAAgB,OAAQC,cAAc,SAgCnD,C,6DC9HP,SAAeC,EAAAA,EAAAA,IAA4B7B,EAAAA,EAAAA,KAAK,OAAQ,CACtD8B,EAAG,kNACD,gB","sources":["views/permission/Permission.js","../node_modules/@mui/icons-material/esm/DeleteRounded.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useNavigate } from 'react-router-dom'\nimport { deletePermission, getPermission, getrole } from 'src/redux/api/api'\nimport { ToastContainer, toast } from 'react-toastify'\nimport { CSpinner } from '@coreui/react'\nimport 'react-toastify/dist/ReactToastify.css'\nimport * as Icons from '@mui/icons-material'\nimport swal from 'sweetalert'\nimport { Button } from '@mui/material'\nimport MUIDataTable from 'mui-datatables'\n\nconst Permission = () => {\n  const [dataTableData, setDataTabledata] = useState([])\n  const [isLoading, setIsLoading] = useState(false)\n  const navigate = useNavigate()\n  const dispatch = useDispatch()\n  const auth = useSelector((state) => state.auth)\n  const [permission, setPermissions] = useState([])\n\n  const getpermission = async () => {\n    try {\n      setIsLoading(true)\n      const res = await getPermission()\n      const data = res.data.info\n      setIsLoading(false)\n      setDataTabledata(data)\n    } catch (error) {\n      console.log(error)\n      setIsLoading(false)\n      toast.error(error.response?.data?.message || 'An error occurred')\n    }\n  }\n\n  useEffect(() => {\n    getrole(dispatch)\n    setPermissions(auth.permission || [])\n  }, [])\n\n  useEffect(() => {\n    getpermission()\n  }, [])\n\n  const columns = [\n    {\n      name: 'name',\n      label: 'Name',\n      options: {\n        filter: true,\n        sort: true,\n      },\n    },\n  ]\n\n  if (Array.isArray(permission) && permission.includes('permission.delete')) {\n    columns.push({\n      name: '_id',\n      label: 'Action',\n      options: {\n        customBodyRender: (value) => {\n          return (\n            <>\n              <Icons.DeleteRounded\n                className=\"deleteButton\"\n                onClick={async () => {\n                  const confirm = await swal({\n                    title: 'Are you sure?',\n                    text: 'Are you sure? Want to delete permission?',\n                    icon: 'warning',\n                    buttons: ['No, cancel it!', 'Yes, I am sure!'],\n                    dangerMode: true,\n                  })\n                  if (confirm) {\n                    deletePermission(value)\n                      .then(() => {\n                        getpermission()\n                        toast.success('Deleted successfully!')\n                        swal({\n                          title: 'Deleted successfully!',\n                          icon: 'success',\n                          button: 'close',\n                        })\n                      })\n                      .catch((error) => {\n                        console.log(error)\n                        const errorMsg = error.response?.data?.message || 'Something went wrong'\n                        toast.error(errorMsg)\n                      })\n                  }\n                }}\n              />\n            </>\n          )\n        },\n      },\n    })\n  }\n\n  const options = { selectableRows: 'none', onRowsDelete: false }\n\n  return (\n    <>\n      {isLoading ? (\n        <div className=\"d-flex justify-content-center\">\n          <CSpinner className=\"theme-spinner-color\" />\n        </div>\n      ) : (\n        <>\n          <ToastContainer />\n\n          {Array.isArray(permission) && permission.includes('permission.add') && (\n            <div className=\"right-text\">\n              <Button\n                variant=\"contained\"\n                size=\"medium\"\n                className=\"AddButton\"\n                onClick={() => navigate('/permissionform')}\n              >\n                Add\n              </Button>\n            </div>\n          )}\n          <MUIDataTable\n            title={'Permission'}\n            data={dataTableData}\n            columns={columns}\n            options={options}\n          />\n        </>\n      )}\n    </>\n  )\n}\n\nexport default Permission\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1\"\n}), 'DeleteRounded');"],"names":["Permission","dataTableData","setDataTabledata","useState","isLoading","setIsLoading","navigate","useNavigate","dispatch","useDispatch","auth","useSelector","state","permission","setPermissions","getpermission","async","data","getPermission","info","error","_error$response","_error$response$data","console","log","toast","response","message","useEffect","getrole","columns","name","label","options","filter","sort","Array","isArray","includes","push","customBodyRender","value","_jsx","_Fragment","children","Icons","className","onClick","swal","title","text","icon","buttons","dangerMode","deletePermission","then","success","button","catch","_error$response2","_error$response2$data","errorMsg","CSpinner","_jsxs","ToastContainer","Button","variant","size","MUIDataTable","selectableRows","onRowsDelete","createSvgIcon","d"],"sourceRoot":""}