"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3297],{19191:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(72791),n=s(76794),r=s(24824),c=s(29900),o=s(62062),l=s.n(o),i=(s(88329),s(78983)),d=s(90977),u=s(13838),m=s(57689),h=s(59434),y=s(89078),x=s(75985),f=(s(5462),s(28725)),p=s(80184);const v=()=>{const[e,t]=(0,a.useState)([]),[s,o]=(0,a.useState)(""),[v,A]=(0,a.useState)(!1),g=(0,m.s0)(),j=(0,h.I0)(),_=(0,h.v9)((e=>e.auth)),[w,b]=(0,a.useState)([]),Z=async()=>{A(!0);try{const e=await(0,f.Q3)(),s=e.data.info;t(s),o(e.data.baseUrl)}catch(a){var e,s;console.log(a),x.Am.error((null===(e=a.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)||"An error occurred")}finally{A(!1)}};(0,a.useEffect)((()=>{(async()=>{await(0,f.VQ)(j),b(_.permission)})()}),[]),(0,a.useEffect)((()=>{Z()}),[]);const k=[{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"email",label:"Email",options:{filter:!0,sort:!0}},{name:"role_name",label:"Role",options:{filter:!0,sort:!0}},{name:"image",label:"Image",options:{filter:!1,sort:!1,customBodyRender:e=>e&&(0,p.jsx)("img",{src:"".concat(s).concat(e),alt:e,style:{height:"60px",width:"60px",borderRadius:"50%"}})}}];(Array.isArray(w)&&w.includes("admin.delete")||w.includes("admin.edit"))&&k.push({name:"_id",label:"Action",options:{filter:!1,sort:!1,customBodyRender:t=>(0,p.jsxs)(p.Fragment,{children:[Array.isArray(w)&&w.includes("admin.edit")&&(0,p.jsx)(n.Z,{className:"editButton",onClick:()=>{const a=e.find((e=>e._id===t));g("/userform",{state:{editData:a,imageUrl:s}})}}),Array.isArray(w)&&w.includes("admin.delete")&&(0,p.jsx)(r.Z,{className:"deleteButton",onClick:async()=>{await l()({title:"Are you sure?",text:"Are you sure? Want to delete employee?",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0})&&(0,f.jP)(t).then((()=>{Z(),x.Am.success("Deleted successfully!"),l()({title:"Deleted successfully!",icon:"success",button:"close"})})).catch((e=>{var t,s;console.log(e);const a=(null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Something went wrong";x.Am.error(a)}))}})]})}});const N=t=>{let{selectedRows:s}=t;return(0,p.jsx)("div",{children:(0,p.jsx)(d.Z,{onClick:()=>(async t=>{const s=t.data.map((t=>e[t.dataIndex]._id));if(await l()({title:"Are you sure?",text:"Are you sure that you want to delete selected User?",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0})){const e={ids:s};(0,f._2)(e).then((()=>{Z(),x.Am.success("Deleted successfully!",{key:s.join(",")})})).catch((e=>{var t,s;x.Am.error((null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Something went wrong")}))}})(s),children:(0,p.jsx)(c.Z,{})})})},M={customToolbarSelect:e=>Array.isArray(w)&&w.includes("admin.delete")&&(0,p.jsx)(N,{selectedRows:e})};return(0,p.jsx)(p.Fragment,{children:v?(0,p.jsx)("div",{className:"d-flex justify-content-center",children:(0,p.jsx)(i.LQ,{className:"theme-spinner-color"})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x.Ix,{}),Array.isArray(w)&&w.includes("admin.add")&&(0,p.jsx)("div",{className:"right-text",children:(0,p.jsx)(u.Z,{variant:"contained",size:"medium",className:"AddButton",onClick:()=>g("/userform"),children:"Add"})}),(0,p.jsx)(y.ZP,{title:"User",data:e,columns:k,options:M})]})})}},29900:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(76189),n=s(80184);const r=(0,a.Z)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},24824:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(76189),n=s(80184);const r=(0,a.Z)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1"}),"DeleteRounded")},76794:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(76189),n=s(80184);const r=(0,a.Z)((0,n.jsx)("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"EditRounded")}}]);
//# sourceMappingURL=3297.c9971f70.chunk.js.map