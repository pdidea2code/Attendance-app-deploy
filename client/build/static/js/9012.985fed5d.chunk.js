"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9012],{73858:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var n=t(72791),o=t(59434),c=t(57689),r=t(28725),a=t(75985),i=t(78983),l=(t(5462),t(24824)),d=t(62062),u=t.n(d),m=t(13838),h=t(89078),p=t(80184);const f=()=>{const[e,s]=(0,n.useState)([]),[t,d]=(0,n.useState)(!1),f=(0,c.s0)(),x=(0,o.I0)(),v=(0,o.v9)((e=>e.auth)),[g,j]=(0,n.useState)([]),y=async()=>{try{d(!0);const e=(await(0,r.Yj)()).data.info;d(!1),s(e)}catch(n){var e,t;console.log(n),d(!1),a.Am.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"An error occurred")}};(0,n.useEffect)((()=>{(0,r.VQ)(x),j(v.permission||[])}),[]),(0,n.useEffect)((()=>{y()}),[]);const A=[{name:"name",label:"Name",options:{filter:!0,sort:!0}}];Array.isArray(g)&&g.includes("permission.delete")&&A.push({name:"_id",label:"Action",options:{customBodyRender:e=>(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(l.Z,{className:"deleteButton",onClick:async()=>{await u()({title:"Are you sure?",text:"Are you sure? Want to delete permission?",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0})&&(0,r.g1)(e).then((()=>{y(),a.Am.success("Deleted successfully!"),u()({title:"Deleted successfully!",icon:"success",button:"close"})})).catch((e=>{var s,t;console.log(e);const n=(null===(s=e.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Something went wrong";a.Am.error(n)}))}})})}});return(0,p.jsx)(p.Fragment,{children:t?(0,p.jsx)("div",{className:"d-flex justify-content-center",children:(0,p.jsx)(i.LQ,{className:"theme-spinner-color"})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.Ix,{}),Array.isArray(g)&&g.includes("permission.add")&&(0,p.jsx)("div",{className:"right-text",children:(0,p.jsx)(m.Z,{variant:"contained",size:"medium",className:"AddButton",onClick:()=>f("/permissionform"),children:"Add"})}),(0,p.jsx)(h.ZP,{title:"Permission",data:e,columns:A,options:{selectableRows:"none",onRowsDelete:!1}})]})})}},24824:(e,s,t)=>{t.d(s,{Z:()=>c});var n=t(76189),o=t(80184);const c=(0,n.Z)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1"}),"DeleteRounded")}}]);
//# sourceMappingURL=9012.985fed5d.chunk.js.map